# つくばホワイト歯科 × ハブラーシカ LINEミニアプリ仕様書（大人版）

## 1. コンセプト

**「自分への投資を、ハブラーシカが楽しくサポート」**

面倒になりがちな予防歯科や定期検診を、ハブラーシカとのコミュニケーションを通じて「自分のための心地よい習慣」に変える。診察券の持ち歩きを不要にし、スマートな通院体験を提供する。

---

## 2. ユーザーフロー

| ステップ | 内容 |
|---------|------|
| **登録** | 受付のQRコードを読み取り、公式LINEを友だち追加 |
| **連携** | リッチメニューの「デジタル診察券」をタップ。LIFFが起動し、名前・診察券番号（任意）を登録 |
| **来院時** | 受付に設置されたQRをスキャン。ハブラーシカが「お疲れ様です！」と迎え、来院スタンプを自動付与 |
| **自宅** | ケア用品の購入や、日々のデンタルフロス実施を記録して「健康ポイント」を貯める |
| **リマインド** | 次回検診の1週間前や、クリーニング推奨時期にハブラーシカからLINEで提案が届く |

---

## 3. 主要機能一覧

### ① デジタル診察券機能

- **診察券バーコード表示**：紙の診察券の代わりに、画面上に診察券番号や氏名を表示
- **ステータス表示**：前回の来院日や、次回の予約予定日を一目で確認

### ② 大人の来院・習慣スタンプ

- **通院スタンプ**：定期検診や治療での来院ごとに付与
- **セルフケアログ**：「フロスをした」「マウスウォッシュをした」など、大人の予防歯科に重要な項目の実施チェック
- **ポイント還元**：スタンプが貯まると、ホワイトニングの割引や、お勧めのケア用品（歯ブラシ・ペースト）と交換可能

### ③ ハブラーシカによるパーソナルガイド

- **大人向けトーン**：キッズ向けより少し落ち着いた、でも親しみやすい「歯科助手」のような立ち位置でハブラーシカが登場
- **豆知識の配信**：「コーヒーを飲んだ後のケアは？」といった、大人に役立つ口腔ケア情報をLIFF内で提供

### ④ 医院連携メッセージ（Messaging API）

- **リコール案内**：「前回のクリーニングから3ヶ月です。そろそろハブラーシカとピカピカにしませんか？」といった個別配信
- **ケア用品のレコメンド**：医院で購入した物品の使い終わり時期に合わせた通知

---

## 4. 画面構成（LIFF）

### メインダッシュボード

| エリア | 内容 |
|--------|------|
| **デジタル診察券カード** | 最上部に配置 |
| **スタンプ進捗** | マップ型ではなく、スタイリッシュなポイントカード風 |
| **ハブラーシカの一言** | 「今日の歯ぐきも健康ですね！」など |
| **セルフケア記録** | チェックボックス形式のデイリーログ |
| **ごほうび一覧** | 貯まったスタンプで交換できる特典メニュー |
| **医院インフォメーション** | つくばホワイト歯科の最新情報や、休診日カレンダー |

---

## 5. デザイン方針（大人向け調整）

| 項目 | 方針 |
|------|------|
| **カラー** | 清潔感のある「ホワイト」をベースに、落ち着いた「スカイブルー」と「シャンパンゴールド」などのアクセントを使用 |
| **フォント** | 丸ゴシック系ではなく、視認性の高いスッキリとしたサンセリフ系 |
| **ハブラーシカ** | 表情豊かなイラストを使いつつ、背景をシンプルにして「仕事帰りの大人でも使いやすい」洗練されたUIにする |

---

## 6. 実装のポイント（開発者視点）

### QR認証
- 受付でのスキャン時に「その日のスタンプが二重に押されない」ようバックエンドで制御

### マルチデバイス対応
- LINEログインにより、機種変更時もデータが失われない設計（Firebase/Supabase活用）

---

## 7. 技術スタック

| カテゴリ | 技術 | 理由 |
|---------|------|------|
| **Frontend** | Next.js (App Router), Tailwind CSS, TypeScript | LIFFと相性が良く、大人向けの洗練されたUIを素早く構築できるため |
| **LINE SDK** | @line/liff | LINEプロフィール取得、QRスキャン機能の実装に必須 |
| **Backend/Database** | Supabase（または Firebase） | 大人の診察券番号やスタンプ履歴をセキュアに管理でき、認証も簡単なため |
| **Icon** | Lucide React | 大人向けに、シンプルで細身のスタイリッシュなアイコンを使用 |

---

## 改訂履歴

| 日付 | 内容 |
|------|------|
| 2025-02-08 | 初版作成（大人版へのシフト） |
| 2025-02-08 | 技術スタック（Frontend, LINE SDK, Backend, Icon）を追記 |
